{
  "name": "random-js",
  "description": "A mathematically correct random number generator library for JavaScript.",
  "version": "1.0.4",
  "author": {
    "name": "Cameron Kenneth Knight",
    "email": "ckknight@gmail.com"
  },
  "keywords": [
    "random"
  ],
  "homepage": "https://github.com/ckknight/random-js",
  "bugs": {
    "url": "https://github.com/ckknight/random-js/issues"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git://github.com/ckknight/random-js"
  },
  "main": "lib/random",
  "readmeFilename": "README.md",
  "devDependencies": {
    "benchmark": "^1.0.0",
    "karma": "~0.10.9",
    "karma-chrome-launcher": "~0.1.2",
    "karma-coffee-preprocessor": "~0.1.2",
    "karma-coverage": "~0.1.5",
    "karma-firefox-launcher": "~0.1.3",
    "karma-html2js-preprocessor": "~0.1.0",
    "karma-jasmine": "~0.1.5",
    "karma-phantomjs-launcher": "~0.1.1",
    "karma-requirejs": "~0.2.1",
    "karma-script-launcher": "~0.1.0",
    "microtime": "^0.5.1",
    "requirejs": "~2.1.10"
  },
  "scripts": {
    "test": "jasmine-node lib/random.js spec/",
    "uglify": "uglifyjs lib/random.js -o lib/random.min.js -m -c"
  },
  "testling": {
    "files": "spec/*.js"
  },
  "readme": "# Random.js\r\n\r\nThis is designed to be a mathematically correct random number generator library for JavaScript.\r\n\r\nInspiration was primarily taken from C++11's `<random>`.\r\n\r\n## Why is this needed?\r\n\r\nDespite `Math.random()` being capable of producing numbers within [0, 1), there are a few downsides to doing so:\r\n\r\n * It is inconsistent between engines as to how many bits of randomness:\r\n    * Internet Explorer: 53 bits\r\n    * Mozilla Firefox: 53 bits\r\n    * Google Chrome/node.js: 32 bits\r\n    * Apple Safari: 32 bits\r\n * It is non-deterministic, which means you can't replay results consistently\r\n * In older browsers, there can be manipulation through cross-frame random polling. *This is mostly fixed in newer browsers and is required to be fixed in ECMAScript 6.*\r\n\r\nAlso, and most crucially, most developers tend to use improper and biased logic as to generating integers within a uniform distribution.\r\n\r\n## How does Random.js alleviate these problems?\r\n\r\nRandom.js provides a set of \"engines\" for producing random integers, which consistently provide values within [0, 4294967295], i.e. 32 bits of randomness.\r\n\r\n * `nativeMath`: Utilizes [`Math.random()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random) and converts its result to an unsigned integer. This is appropriate to use if you do not care for a deterministic implementation. Based on the implementation (which is hidden to you as a developer), the period may be shorter than expected and start repeating itself.\r\n * `browserCrypto`: Utilizes [`crypto.getRandomValues(Int32Array)`](https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues). Only supported on newer browsers, but promises cryptographically random numbers.\r\n * `mt19937()`: An implementation of the [Mersenne Twister](http://en.wikipedia.org/wiki/Mersenne_twister) algorithm. Not cryptographically secure, but its results are repeatable. Must be seeded with a single integer or an array of integers or call `.autoSeed()` to automatically seed initial data. Guaranteed to produce consistent results across all JavaScript implementations assuming the same seed.\r\n\r\nOne is also free to implement their own engine as long as it returns 32-bit integers, either signed or unsigned.\r\n\r\nSome common, biased, *incorrect* tool for generating random integers is as follows:\r\n\r\n    // DO NOT USE, BIASED LOGIC\r\n    function randomInt(min, max) {\r\n      return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n    // DO NOT USE, BIASED LOGIC (typical C-like implementation)\r\n    function randomIntByModulo(min, max) {\r\n      var i = (Math.random() * 32768) >>> 0;\r\n      return (i % (min - max)) + min;\r\n    }\r\n\r\nThe problem with both of these approaches is that the distribution of integers that it returns is not uniform. That is, it might be more biased to return `0` rather than `1`, making it inherently broken.\r\n\r\n`randomInt` may more evenly distribute its biased, but it is still wrong. `randomIntByModulo`, at least in the example given, is heavily biased to return [0, 67] over [68, 99].\r\n\r\nIn order to eliminate bias, sometimes the engine which random data is pulled from may need to be used more than once.\r\n\r\nRandom.js provides a series of distributions to alleviate this.\r\n\r\n## API\r\n\r\n### Engines\r\n\r\n * `Random.engines.nativeMath`: Utilizes `Math.random()`\r\n * `Random.engines.browserCrypto`: Utilizes `crypto.getRandomValues()`\r\n * `Random.engines.mt19937()`: Produces a new Mersenne Twister. Must be seeded before use.\r\n\r\n### Mersenne Twister API\r\n\r\nAssuming one has done `var mt = Random.engines.mt19937()`:\r\n\r\n * `mt()`: Produce a 32-bit unsigned integer.\r\n * `mt.seed(value)`: Seed the twister with an initial 32-bit integer.\r\n * `mt.seedWithArray(array)`: Seed the twister with an array of 32-bit integers.\r\n * `mt.autoSeed()`: Seed the twister with automatic information. This uses the current Date and other entropy sources.\r\n * `mt.discard(count)`: Discard `count` random values. More efficient than running `mt()` repeatedly.\r\n\r\n### Distributions\r\n\r\nRandom.js also provides a set of methods for producing useful data from an engine.\r\n\r\n * `Random.integer(min, max)(engine)`: Produce an integer within the inclusive range [`min`, `max`]. `min` can be at its minimum -9007199254740992 (-2 ** 53). `max` can be at its maximum 9007199254740992 (2 ** 53).\r\n * `Random.real(min, max, inclusive)(engine)`: Produce a floating point number within the range [`min`, `max`) or [`min`, `max`]. Uses 53 bits of randomness.\r\n * `Random.bool()(engine)`: Produce a boolean with a 50% chance of it being `true`.\r\n * `Random.bool(percentage)(engine)`: Produce a boolean with the specified chance causing it to be `true`.\r\n * `Random.bool(numerator, denominator)(engine)`: Produce a boolean with `numerator`/`denominator` chance of it being true.\r\n * `Random.pick(engine, array[, begin[, end]])`: Return a random value within the provided `array` within the sliced bounds of `begin` and `end`.\r\n * `Random.picker(array[, begin[, end]])(engine)`: Same as `Random.pick(engine, array, begin, end)`.\r\n * `Random.shuffle(engine, array)`: Shuffle the provided `array` (in-place). Similar to `.sort()`.\r\n * `Random.sample(engine, population, sampleSize)`: From the `population` array, produce an array with `sampleSize` elements that are randomly chosen without repeats.\r\n * `Random.die(sideCount)(engine)`: Same as `Random.integer(1, sideCount)(engine)`\r\n * `Random.dice(sideCount, dieCount)(engine)`: Produce an array of length `dieCount` with as many `die` rolls.\r\n * `Random.uuid4(engine)`: Produce a [Universally Unique Identifier](http://en.wikipedia.org/wiki/Universally_unique_identifier) Version 4.\r\n * `Random.string()(engine, length)`: Produce a random string using numbers, uppercase and lowercase letters, `_`, and `-` of length `length`.\r\n * `Random.string(pool)(engine, length)`: Produce a random string using the provided string `pool` as the possible characters to choose from of length `length`.\r\n * `Random.hex()(engine, length)` or `Random.hex(false)(engine, length)`: Produce a random string comprised of numbers or the characters `abcdef` of length `length`.\r\n * `Random.hex(true)(engine, length)`: Produce a random string comprised of numbers or the characters `ABCDEF` of length `length`.\r\n * `Random.date(start, end)(engine)`: Produce a random `Date` within the inclusive range of [`start`, `end`]. `start` and `end` must both be `Date`s.\r\n\r\nAn example of using `integer` would be as such:\r\n\r\n    // create a Mersenne Twister-19937 that is auto-seeded based on time and other random values\r\n    var engine = Random.engines.mt19937().autoSeed();\r\n    // create a distribution that will consistently produce integers within inclusive range [0, 99].\r\n    var distribution = Random.integer(0, 99);\r\n    // generate a number that is guaranteed to be within [0, 99] without any particular bias.\r\n    function generateNaturalLessThan100() {\r\n      return distribution(engine);\r\n    }\r\n\r\nProducing a distribution should be considered a cheap operation, but producing a new Mersenne Twister can be expensive.\r\n\r\nAn example of producing a random SHA1 hash:\r\n\t\r\n\t// using essentially Math.random()\r\n\tvar engine = Random.engines.nativeMath;\r\n\t// lower-case Hex string distribution\r\n\tvar distribution = Random.hex(false);\r\n\t// generate a 40-character hex string\r\n\tfunction generateSHA1() {\r\n\t  return distribution(40);\r\n\t}\r\n\r\n## Alternate API\r\n\r\nThere is an alternate API which may be easier to use, but may be less performant. In scenarios where performance is paramount, it is recommended to use the aforementioned API.\r\n\r\n    var r = new Random(Random.engines.mt19937().seedWithArray([0x12345678, 0x90abcdef]));\r\n    var value = r.integer(0, 99);\r\n\r\n    r = new Random(); // same as new Random(Random.engines.nativeMath)\r\n    r = Random(); // same as above, `new` isn't required.\r\n\r\nThis abstracts the concepts of engines and distributions.\r\n\r\n * `r.integer(min, max)`: Produce an integer within the inclusive range [`min`, `max`]. `min` can be at its minimum -9007199254740992 (2 ** 53). `max` can be at its maximum 9007199254740992 (2 ** 53). The special number `-0` is never returned.\r\n * `r.real(min, max, inclusive)`: Produce a floating point number within the range [`min`, `max`) or [`min`, `max`]. Uses 53 bits of randomness.\r\n * `r.bool()`: Produce a boolean with a 50% chance of it being `true`.\r\n * `r.bool(percentage)`: Produce a boolean with the specified chance causing it to be `true`.\r\n * `r.bool(numerator, denominator)`: Produce a boolean with `numerator`/`denominator` chance of it being true.\r\n * `r.pick(array[, begin[, end]])`: Return a random value within the provided `array` within the sliced bounds of `begin` and `end`.\r\n * `r.shuffle(array)`: Shuffle the provided `array` (in-place). Similar to `.sort()`.\r\n * `r.sample(population, sampleSize)`: From the `population` array, produce an array with `sampleSize` elements that are randomly chosen without repeats.\r\n * `r.die(sideCount)`: Same as `r.integer(1, sideCount)`\r\n * `r.dice(sideCount, dieCount)`: Produce an array of length `dieCount` with as many `die` rolls.\r\n * `r.uuid4()`: Produce a [Universally Unique Identifier](http://en.wikipedia.org/wiki/Universally_unique_identifier) Version 4.\r\n * `r.string(length)`: Produce a random string using numbers, uppercase and lowercase letters, `_`, and `-` of length `length`.\r\n * `r.string(length, pool)`: Produce a random string using the provided string `pool` as the possible characters to choose from of length `length`.\r\n * `r.hex(length)` or `r.hex(length, false)`: Produce a random string comprised of numbers or the characters `abcdef` of length `length`.\r\n * `r.hex(length, true)`: Produce a random string comprised of numbers or the characters `ABCDEF` of length `length`.\r\n * `r.date(start, end)`: Produce a random `Date` within the inclusive range of [`start`, `end`]. `start` and `end` must both be `Date`s.\r\n\r\n## Usage\r\n\r\n### node.js\r\n\r\nIn your project, run the following command:\r\n\r\n    npm install random-js\r\n\r\nIn your code:\r\n\r\n    var random = require(\"random-js\")(); // uses the nativeMath engine\r\n    var value = random.integer(1, 100);\r\n\r\nOr to have more control:\r\n\r\n    var Random = require(\"random-js\");\r\n    var random = new Random(Random.engines.mt19937().autoSeed());\r\n    var value = random.integer(1, 100);\r\n\r\nIt is recommended to create one shared engine and/or `Random` instance per-process rather than one per file.\r\n\r\n### Browser using AMD or RequireJS\r\n\r\nDownload `random.min.js` and place it in your project, then use one of the following patterns:\r\n\r\n    define(function (require) {\r\n      var Random = require(\"random\");\r\n      return new Random(Random.engines.mt19937().autoSeed());\r\n    });\r\n\r\n    define(function (require) {\r\n      return require(\"random\")(); // uses the nativeMath engine\r\n    });\r\n\r\n    define([\"random\"], function (Random) {\r\n      return new Random(Random.engines.mt19937().autoSeed());\r\n    });\r\n\r\n### Browser using `<script>` tag\r\n\r\nDownload `random.min.js` and place it in your project, then add it as a `<script>` tag as such:\r\n\r\n    <script src=\"lib/random.min.js\"></script>\r\n    <script>\r\n      // Random is now available as a global (on the window object)\r\n      var random = new Random();\r\n      alert(\"Random value from 1 to 100: \" + random.integer(1, 100));\r\n    </script>\r\n\r\n### Bower\r\n\r\nIf you use [Bower](http://bower.io) for your client-side package management, Random.js can be installed with the following command:\r\n\r\n    bower install random\r\n\r\n## Extending\r\n\r\nYou can add your own methods to `Random` instances, as such:\r\n\r\n    var random = new Random();\r\n    random.bark = function () {\r\n      if (this.bool()) {\r\n        return \"arf!\";\r\n      } else {\r\n        return \"woof!\";\r\n      }\r\n    };\r\n    random.bark(); //=> \"arf!\" or \"woof!\"\r\n\r\nThis is the recommended approach, especially if you only use one instance of `Random`.\r\n\r\nOr you could even make your own subclass of Random:\r\n\r\n    function MyRandom(engine) {\r\n      return Random.call(this, engine);\r\n    }\r\n    MyRandom.prototype = Object.create(Random.prototype);\r\n    MyRandom.prototype.constructor = MyRandom;\r\n    MyRandom.prototype.mood = function () {\r\n      switch (this.integer(0, 2)) {\r\n        case 0: return \"Happy\";\r\n        case 1: return \"Content\";\r\n        case 2: return \"Sad\";\r\n      }\r\n    }\r\n    var random = new MyRandom();\r\n    random.mood(); //=> \"Happy\", \"Content\", or \"Sad\"\r\n\r\n## Testing\r\n\r\nAll the code in Random.js is fully tested and covered using `jasmine`.\r\n\r\nTo run tests in node.js:\r\n\r\n    npm install -g jasmine-node\r\n    npm test\r\n\r\nTo run tests in browsers:\r\n\r\n    karma start\r\n\r\nYou may need to run\r\n\r\n    npm install\r\n\r\nIn order to get `karma` to run.\r\n\r\nBy default, `karma` runs tests in [PhantomJS](http://phantomjs.org), but that can be overridden as such:\r\n\r\n    karma start --browsers Chrome,IE,Firefox\r\n\r\n## License\r\n\r\nThe MIT License (MIT).\r\n\r\nSee the LICENSE file in this project for more details.\r\n",
  "_id": "random-js@1.0.4",
  "dist": {
    "shasum": "7fdd8a8a19eaa3fdcfd67fdc5020ad5533805ba6"
  },
  "_from": "random-js@",
  "_resolved": "https://registry.npmjs.org/random-js/-/random-js-1.0.4.tgz"
}
